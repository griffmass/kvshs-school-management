<aside class="w-64 h-[90vh] my-10 ml-4 flex flex-col rounded-2xl bg-white shadow-lg">
  <div class="flex items-center justify-center gap-2 p-6">
    <img src="../../../assets/icon/Logo.png" alt="KVSHS Logo" class="h-10 w-10" />
    <span class="text-lg font-bold text-gray-700">KVSHS Admin</span>
  </div>

  <hr class="mx-6 border-t-2 border-gray-100" />

  <nav class="flex-1 space-y-2 px-4 py-6">
    <a
      href="dashboard.html"
      class="nav-link flex items-center rounded-xl px-4 py-2.5 text-gray-600 transition-all duration-200 hover:bg-gray-100 hover:text-blue-600"
    >
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
      </svg>
      <span class="ml-3 font-medium">Dashboard</span>
    </a>

    <a
      href="students.html"
      class="nav-link flex items-center rounded-xl px-4 py-2.5 text-gray-600 transition-all duration-200 hover:bg-gray-100 hover:text-blue-600"
    >
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
      </svg>
      <span class="ml-3 font-medium">Students</span>
    </a>

    <a
      href="irregular_students.html"
      class="nav-link flex items-center rounded-xl px-4 py-2.5 text-gray-600 transition-all duration-200 hover:bg-gray-100 hover:text-blue-600"
    >
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197" />
      </svg>
      <span class="ml-3 font-medium">Irregular Students</span>
    </a>

    <a
      href="als_students.html"
      class="nav-link flex items-center rounded-xl px-4 py-2.5 text-gray-600 transition-all duration-200 hover:bg-gray-100 hover:text-blue-600"
    >
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
      </svg>
      <span class="ml-3 font-medium">ALS Students</span>
    </a>

    <a
      href="new_enrollee.html"
      class="nav-link flex items-center rounded-xl px-4 py-2.5 text-gray-600 transition-all duration-200 hover:bg-gray-100 hover:text-blue-600"
    >
      <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
      </svg>
      <span class="ml-3 font-medium">New Enrollees</span>
    </a>
  </nav>

  <div class="mt-auto p-4">
    <button id="logout-btn" class="w-full rounded-xl bg-gradient-to-r from-blue-500 to-blue-700 px-4 py-2.5 font-semibold text-white shadow-md transition-all duration-300 hover:bg-blue-700 hover:shadow-lg">
      Log out
    </button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Mas sigurado na paraan para kunin ang current path
      const currentPath = window.location.pathname;
      const navLinks = document.querySelectorAll('nav .nav-link');
      
      const activeClasses = ['bg-blue-500/80', 'text-white'];
      const inactiveClasses = ['text-gray-600', 'hover:bg-gray-100', 'hover:text-blue-600'];
      
      let foundActive = false;

      navLinks.forEach(link => {
        const linkHref = link.getAttribute('href');
        
        // Gumagamit ng .endsWith() para mas sigurado ang pag-detect
        // Kahit pa nasa /folder/students.html, made-detect pa rin
        if (currentPath.endsWith(linkHref)) {
          link.classList.remove(...inactiveClasses);
          link.classList.add(...activeClasses);
          foundActive = true;
        } else {
          link.classList.remove(...activeClasses);
          link.classList.add(...inactiveClasses);
        }
      });

      // DEFAULT CASE:
      // Kung walang nahanap (e.g., nasa "/" o "index.html" ka)
      // i-highlight ang "Dashboard"
      if (!foundActive && (currentPath.endsWith('/') || currentPath.endsWith('index.html'))) {
        const dashboardLink = document.querySelector('nav .nav-link[href="dashboard.html"]');
        if (dashboardLink) {
          dashboardLink.classList.remove(...inactiveClasses);
          dashboardLink.classList.add(...activeClasses);
        }
      }
    });
  </script>
</aside>